// Add these models to your existing schema.prisma file

model UserConsent {
  id          String   @id @default(cuid())
  userId      String   @unique
  necessary   Boolean  @default(true)
  analytics   Boolean  @default(false)
  marketing   Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model DataSubjectRequest {
  id          String   @id @default(cuid())
  userId      String
  type        String
  status      String
  details     String?
  requestDate DateTime
  completedAt DateTime?
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model ActivityLog {
  id          String   @id @default(cuid())
  userId      String
  action      String
  details     String?
  ipAddress   String?
  userAgent   String?
  createdAt   DateTime @default(now())
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

// Add these fields to the User model
model User {
  // ... existing fields ...
  consents            UserConsent[]
  dataSubjectRequests DataSubjectRequest[]
  activityLogs        ActivityLog[]
  dataRetentionDate   DateTime?
}